<!DOCTYPE html>
<html lang="ar" dir="rtl">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>فشل الدفع - كرم</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@300;400;500;700;800&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="styles/design-system.css">
    <link rel="stylesheet" href="styles/main.css">
    <style>
        .failure-container {
            max-width: 600px;
            margin: 0 auto;
            padding: var(--space-4xl) var(--space-xl);
            text-align: center;
        }

        .failure-icon {
            font-size: 120px;
            margin-bottom: var(--space-2xl);
        }

        .failure-card {
            background: white;
            padding: var(--space-3xl);
            border-radius: var(--radius-2xl);
            box-shadow: var(--shadow-xl);
            margin-bottom: var(--space-2xl);
        }

        .failure-title {
            font-size: var(--font-size-4xl);
            font-weight: var(--font-weight-bold);
            color: var(--color-error);
            margin-bottom: var(--space-md);
        }

        .failure-message {
            color: var(--color-text-light);
            margin-bottom: var(--space-2xl);
            font-size: var(--font-size-lg);
        }

        .error-details {
            background: var(--color-error-light);
            padding: var(--space-lg);
            border-radius: var(--radius-lg);
            border-right: 4px solid var(--color-error);
            margin-bottom: var(--space-2xl);
            text-align: right;
        }

        .actions {
            display: flex;
            gap: var(--space-md);
            justify-content: center;
            flex-wrap: wrap;
        }

        .help-box {
            background: var(--color-bg-light);
            padding: var(--space-xl);
            border-radius: var(--radius-lg);
            margin-top: var(--space-2xl);
        }
    </style>
</head>

<body>
    <div class="failure-container">
        <div class="failure-icon">❌</div>

        <div class="failure-card">
            <h1 class="failure-title">فشلت عملية الدفع</h1>
            <p class="failure-message">
                عذراً، لم نتمكن من إتمام عملية الدفع.<br>
                لم يتم خصم أي مبلغ من حسابك.
            </p>

            <div class="error-details">
                <strong>سبب الفشل:</strong>
                <p id="error-message" style="margin: var(--space-sm) 0 0;">غير محدد</p>
            </div>

            <div class="actions">
                <a href="checkout.html" class="btn btn-primary">إعادة المحاولة</a>
                <a href="browse-families-calendar.html" class="btn btn-secondary">تعديل الحجز</a>
                <a href="index.html" class="btn btn-outline">العودة للرئيسية</a>
            </div>

            <div class="help-box">
                <h3 style="margin: 0 0 var(--space-md); color: var(--color-text);">الأسباب المحتملة:</h3>
                <ul style="text-align: right; margin: 0;">
                    <li>رصيد غير كافٍ في البطاقة</li>
                    <li>بيانات البطاقة غير صحيحة</li>
                    <li>البطاقة منتهية الصلاحية</li>
                    <li>تم رفض العملية من البنك</li>
                    <li>مشكلة في الاتصال بالإنترنت</li>
                </ul>
            </div>
        </div>

        <p class="text-sm text-muted">
            إذا استمرت المشكلة، يرجى التواصل مع الدعم الفني أو البنك الخاص بك.
        </p>
    </div>

    <script>
        // Get error from URL
        const urlParams = new URLSearchParams(window.location.search);
        const error = urlParams.get('error');

        if (error) {
            document.getElementById('error-message').textContent = decodeURIComponent(error);
        }
    </script>
</body>

</html>