# ููุตุฉ ูุฑู - Karam Platform

> **ูุธุงู ูุชูุงูู ูุฅุฏุงุฑุฉ ุญุฌูุฒุงุช ุงููุฌุงูุณ ูุฎุฏูุฉ ุถููู ุงูุฑุญูู**

[![License](https://img.shields.io/badge/license-MIT-blue.svg)](LICENSE)
[![Version](https://img.shields.io/badge/version-2.0.0-green.svg)](CHANGELOG.md)

## ๐ ูุธุฑุฉ ุนุงูุฉ

ููุตุฉ ูุฑู ูู ูุธุงู ุฅููุชุฑููู ูุชูุงูู ูุฑุจุท ุจูู:
- **ุงูุฃุณุฑ ุงููุถููุฉ**: ุชูุฏู ูุฌุงูุณูุง ูุงุณุชูุจุงู ุถููู ุงูุฑุญูู
- **ุงูุฒูุงุฑ**: ูุจุญุซูู ุนู ูุฌุงูุณ ูุชุงุญุฉ ููุญุฌุฒูููุง
- **ุงููุดุบููู**: ูุฏูุฑูู ุงูููุตุฉ ูุงูุจุงูุงุช ูุงูุฃุณุนุงุฑ

## โจ ุงูููุฒุงุช ุงูุฑุฆูุณูุฉ

### ๐ ูุธุงู ุงูุจุงูุงุช (Package System)
- ุจุงูุชูู: **ุฃุณุงุณูุฉ** ู **ูุชููุฒุฉ**
- ุงููุดุบููู ูุญุฏุฏูู ุงูุฃุณุนุงุฑ ูุงูููุงุตูุงุช
- ุงูุฃุณุฑ ุชุฎุชุงุฑ ุงูุจุงูุฉ ุงูููุงุณุจุฉ
- ุชุญุฏูุซ ุชููุงุฆู ููุฃุณุนุงุฑ ุนุจุฑ Database Triggers

### ๐ ุฅุฏุงุฑุฉ ุงูุฃููุงุช ุงููุชุงุญุฉ (Available Slots)
- ุงูุฃุณุฑ ุชุญุฏุฏ ุงูุชูุงุฑูุฎ ูุงูุฃููุงุช ุงููุชุงุญุฉ ููุญุฌุฒ
- 4 ูุชุฑุงุช ุฒูููุฉ: ุตุจุงุญุงูุ ุธูุฑุงูุ ูุณุงุกูุ ูููุงู
- ุฅููุงููุฉ ุชูุนูู/ุชุนุทูู ุงูุฃููุงุช
- ุนุฑุถ ุงูุฃููุงุช ุงููุชุงุญุฉ ุจุดูู ูุงุถุญ ููุฒูุงุฑ

### ๐ ุจุญุซ ูุชูุฏู ูุน ุฎูุงุฑุงุช ุจุฏููุฉ
- ุจุญุซ ุญุณุจ ุงูุชุงุฑูุฎ ูุงูููุช
- ููุฒุฉ **"ุงูุฃููุงุช ุงูุจุฏููุฉ"**: ุนุฑุถ ุงููุฌุงูุณ ุงููุชุงุญุฉ ูู ุฃู ุชุงุฑูุฎ ูุณุชูุจูู
- ููุชุฑุฉ ุญุณุจ ููุน ุงููุฌูุณ (ุฑุฌุงูู/ูุณุงุฆู)
- ุนุฑุถ ุงูุฃููุงุช ุงููุชุงุญุฉ ููู ูุฌูุณ ุจุดูู ูุฌููุน

### ๐ง ูุธุงู ุงูุฅุดุนุงุฑุงุช
- ุฅุดุนุงุฑุงุช ุชููุงุฆูุฉ ุนุจุฑ ุงูุจุฑูุฏ ุงูุฅููุชุฑููู
- 8 ููุงูุจ ุฌุงูุฒุฉ ููุฅุดุนุงุฑุงุช
- ูุธุงู queue ููุฅุฑุณุงู
- ุฌุงูุฒ ููุชูุงูู ูุน Resend

### ๐จ ูุงุฌูุงุช ุงุญุชุฑุงููุฉ
- ุชุตููู ุนุตุฑู ููุชุฌุงูุจ
- ุฏุนู ูุงูู ููุบุฉ ุงูุนุฑุจูุฉ
- ุชุฌุฑุจุฉ ูุณุชุฎุฏู ุณูุณุฉ
- ุฑุณูู ูุชุญุฑูุฉ ูุงุนูุฉ

## ๐๏ธ ุงูุจููุฉ ุงูุชูููุฉ

### Frontend
- **HTML5** + **Vanilla CSS** + **Vanilla JavaScript**
- **Flatpickr** ููุชุงุฑูุฎ
- **i18n** ูุฏุนู ุงููุบุงุช

### Backend
- **Supabase** (PostgreSQL)
- **Row Level Security (RLS)**
- **Database Functions & Triggers**
- **Real-time subscriptions**

### Deployment
- **Vercel** (Auto-deploy from GitHub)
- **Supabase Cloud**

## ๐ ูููู ุงููุดุฑูุน

```
karam-platform/
โโโ database/
โ   โโโ package_system_clean.sql      # ูุธุงู ุงูุจุงูุงุช ูุงูุฃููุงุช (ุงููุณุฎุฉ ุงูููุงุฆูุฉ)
โ   โโโ storage_rls_policies.sql      # ุณูุงุณุงุช ุงูุฃูุงู ูููููุงุช
โ   โโโ ...
โโโ js/
โ   โโโ operator-packages.js          # ุฅุฏุงุฑุฉ ุงูุจุงูุงุช (ูุดุบููู)
โ   โโโ family-majlis.js              # ุฅุฏุงุฑุฉ ุงููุฌุงูุณ ูุงูุฃููุงุช (ุฃุณุฑ)
โ   โโโ browse-calendar.js            # ุงูุจุญุซ ูุงูุญุฌุฒ (ุฒูุงุฑ)
โ   โโโ email-service.js              # ุฎุฏูุฉ ุงูุฅุดุนุงุฑุงุช
โ   โโโ ...
โโโ styles/
โ   โโโ design-system.css             # ุงููุธุงู ุงูุชุตูููู
โ   โโโ ...
โโโ operator-packages.html            # ุตูุญุฉ ุฅุฏุงุฑุฉ ุงูุจุงูุงุช
โโโ family-majlis.html                # ุตูุญุฉ ุฅุฏุงุฑุฉ ุงููุฌุงูุณ
โโโ browse-families-calendar.html     # ุตูุญุฉ ุงูุจุญุซ ูุงูุญุฌุฒ
โโโ README.md
```

## ๐ ุงูุชุซุจูุช ูุงูุชุดุบูู

### ุงููุชุทูุจุงุช
- Node.js 18+
- ุญุณุงุจ Supabase
- ุญุณุงุจ Vercel (ูููุดุฑ)

### ุงูุฎุทูุงุช

1. **ุงุณุชูุณุงุฎ ุงููุดุฑูุน**
```bash
git clone https://github.com/YOUR_USERNAME/karam-platform.git
cd karam-platform
```

2. **ุฅุนุฏุงุฏ ูุงุนุฏุฉ ุงูุจูุงูุงุช**
- ุงูุชุญ Supabase Dashboard
- ุงูุชูู ุฅูู SQL Editor
- ูููุฐ `database/package_system_clean.sql`

3. **ุฅุนุฏุงุฏ ุงููุชุบูุฑุงุช ุงูุจูุฆูุฉ**
```bash
# ุฃูุดุฆ ููู js/config.js
const SUPABASE_CONFIG = {
    url: 'YOUR_SUPABASE_URL',
    anonKey: 'YOUR_ANON_KEY'
};
```

4. **ุชุดุบูู ูุญูู**
```bash
python serve.py
# ุฃู
npx serve
```

5. **ุงููุดุฑ ุนูู Vercel**
```bash
vercel --prod
```

## ๐ ูุงุนุฏุฉ ุงูุจูุงูุงุช

### ุงูุฌุฏุงูู ุงูุฑุฆูุณูุฉ

#### `package_settings`
ุฅุนุฏุงุฏุงุช ุงูุจุงูุงุช (ุฃุณุงุณูุฉ/ูุชููุฒุฉ)
```sql
- id: UUID
- package_type: TEXT (basic/premium)
- price_per_guest: DECIMAL
- features: JSONB
- is_active: BOOLEAN
```

#### `majlis`
ุงููุฌุงูุณ ุงูููุฏูุฉ ูู ุงูุฃุณุฑ
```sql
- id: UUID
- family_id: UUID
- majlis_name: TEXT
- package_type: TEXT
- package_price: DECIMAL (auto-updated)
- capacity: INTEGER
- is_active: BOOLEAN
```

#### `available_slots`
ุงูุฃููุงุช ุงููุชุงุญุฉ ููุญุฌุฒ
```sql
- id: UUID
- majlis_id: UUID
- available_date: DATE
- time_slot: TEXT (morning/afternoon/evening/night)
- is_active: BOOLEAN
```

#### `email_notifications`
ูุงุฆูุฉ ุงูุฅุดุนุงุฑุงุช ุงูุจุฑูุฏูุฉ
```sql
- id: UUID
- recipient_email: TEXT
- event_type: TEXT
- status: TEXT (pending/sent/failed)
```

### Database Functions

- `update_majlis_package_price()` - ุชุญุฏูุซ ุณุนุฑ ุงููุฌูุณ ุชููุงุฆูุงู
- `is_slot_available()` - ุงูุชุญูู ูู ุชููุฑ ููุช
- `get_available_slots_for_majlis()` - ุฌูุจ ุงูุฃููุงุช ุงููุชุงุญุฉ
- `queue_email_notification()` - ุฅุถุงูุฉ ุฅุดุนุงุฑ ูููุงุฆูุฉ

## ๐ฏ ุฏููู ุงูุงุณุชุฎุฏุงู

### ูููุดุบููู (Operators)

1. **ุชุณุฌูู ุงูุฏุฎูู** ููุดุบู
2. **ุงูุชุญ** `operator-packages.html`
3. **ุนุฏูู ุฃุณุนุงุฑ ูููุงุตูุงุช** ุงูุจุงูุงุช
4. **ุงุญูุธ** ุงูุชุบููุฑุงุช

### ููุฃุณุฑ (Families)

1. **ุณุฌูู ุญุณุงุจู** ูุฃุณุฑุฉ ูุถููุฉ
2. **ุฃุถู ูุฌูุณุงู** ูู `family-majlis.html`
3. **ุงุฎุชุฑ ุงูุจุงูุฉ** (ุฃุณุงุณูุฉ/ูุชููุฒุฉ)
4. **ุฃุถู ุงูุฃููุงุช ุงููุชุงุญุฉ**:
   - ุญุฏุฏ ุงูุชุงุฑูุฎ
   - ุงุฎุชุฑ ุงููุชุฑุฉ ุงูุฒูููุฉ
   - ุงุถุบุท "ุฅุถุงูุฉ ููุช ูุชุงุญ"
5. **ุงุญูุธ** ุงููุฌูุณ

### ููุฒูุงุฑ (Visitors)

1. **ุงูุชุญ** `browse-families-calendar.html`
2. **ุงุฎุชุฑ ุงูุชุงุฑูุฎ ูุงูููุช** ุงููุทููุจ
3. **(ุงุฎุชูุงุฑู) ูุนูู** "ุฅุธูุงุฑ ุงูุฃููุงุช ุงูุจุฏููุฉ"
4. **ุงุถุบุท ุจุญุซ**
5. **ุงุญุฌุฒ** ุงููุฌูุณ ุงูููุงุณุจ

## ๐ ุงูุฃูุงู

- **Row Level Security (RLS)** ุนูู ุฌููุน ุงูุฌุฏุงูู
- **Authentication** ุนุจุฑ Supabase Auth
- **Input validation** ูู ุงูู Frontend ูุงูู Backend
- **SQL Injection protection** ุนุจุฑ Prepared Statements

## ๐ ุงูุชุญุฏูุซุงุช ุงูุฃุฎูุฑุฉ (v2.0.0)

### โ ุงููุถุงู
- ูุธุงู ุงูุจุงูุงุช ุงููุงูู ูุน ูุงุฌูุฉ ุฅุฏุงุฑุฉ ูููุดุบููู
- ูุธุงู ุงูุฃููุงุช ุงููุชุงุญุฉ ุจุฏููุงู ุนู ุงูุฅุฎูุงุก (ุชุญุณูู ูุจูุฑ ูู ุงูููุทู)
- ููุฒุฉ ุงูุฃููุงุช ุงูุจุฏููุฉ ูู ุงูุจุญุซ (ุนุฑุถ ุฌููุน ุงูุชูุงุฑูุฎ ุงููุณุชูุจููุฉ)
- ูุธุงู ุงูุฅุดุนุงุฑุงุช ุงูุจุฑูุฏูุฉ
- 8 ููุงูุจ ุฌุงูุฒุฉ ููุฅุดุนุงุฑุงุช

### ๐ง ุงูููุญุณูู
- ููุทู ุงูุจุญุซ: ูุชุทูุจ ุงุฎุชูุงุฑ ุชุงุฑูุฎ ูููุช
- ุนุฑุถ ุงูุฃููุงุช ุงููุชุงุญุฉ ุจุดูู ูุฌููุน (ุญุชู 10 ุชูุงุฑูุฎ)
- ูุงุฌูุฉ ุงููุณุชุฎุฏู ููุจุงูุงุช ูุงูุฃููุงุช
- ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก ูุงูู null checks

### ๐ ุงูููุตููุญ
- ูุดุงูู RLS policies
- ุฃุฎุทุงุก ุฃุณูุงุก ุงูุฃุนูุฏุฉ (majlis_name, city, base_price)
- ูุดุงูู ุงูุชูุงูู ูุน ุจููุฉ ูุงุนุฏุฉ ุงูุจูุงูุงุช
- ุฃุฎุทุงุก order parameters ูู karamDB

## ๐ค ุงููุณุงููุฉ

ูุฑุญุจ ุจุงููุณุงููุงุช! ูุฑุฌู:
1. Fork ุงููุดุฑูุน
2. ุฅูุดุงุก branch ุฌุฏูุฏ (`git checkout -b feature/amazing-feature`)
3. Commit ุงูุชุบููุฑุงุช (`git commit -m 'Add amazing feature'`)
4. Push ุฅูู Branch (`git push origin feature/amazing-feature`)
5. ูุชุญ Pull Request

## ๐ ุงูุชุฑุฎูุต

ูุฐุง ุงููุดุฑูุน ูุฑุฎุต ุชุญุช [MIT License](LICENSE).

## ๐ ุงูุชูุงุตู

- **ุงูุจุฑูุฏ ุงูุฅููุชุฑููู**: support@karam-haji.com
- **ุงููููุน**: https://karam-haji.com

## ๐ ุดูุฑ ุฎุงุต

- ูุฑูู Supabase ููุงุนุฏุฉ ุงูุจูุงูุงุช ุงูุฑุงุฆุนุฉ
- Vercel ููุงุณุชุถุงูุฉ ุงูุณุฑูุนุฉ
- ุฌููุน ุงููุณุงูููู ูู ุงููุดุฑูุน

---

**ุตููุน ุจู โค๏ธ ูุฎุฏูุฉ ุถููู ุงูุฑุญูู**
